<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Password Generator!</title>
</head>

<body>
    <h1>Password Generator!</h1>

    <script>
        var pwdLength = prompt("Enter how long you would like your password to be (must be between 8-128 characters", "");
        while (isNaN(pwdLength) || pwdLength < 8 || pwdLength > 128) {
            pwdLength = prompt("ERROR: Enter how long you would like your password to be (MUST be between 8-128 characters", "");
        }

        var numSpChar = Math.floor(Math.random() * pwdLength) + 1;
        console.log('numSpChar', numSpChar);
        if (numSprChar === pwdLength) {
            numSpChar = pwdLength - 3;
            numSpChar = numSpChar - 1;
        }

        var numNumChar = Math.floor(Math.random() * (pwdLength - numSpChar)) + 1;
        console.log('numNumChar', numNumChar);

        var numLwrChar = Math.floor(Math.random() * (pwdLength - numSpChar - numNumChar)) + 1;
        console.log('numLwrChar', numLwrChar);

        var numUprChar = (pwdLength - numSpChar - numNumChar - numLwrChar);
        console.log('numUprChar', numUprChar);
        if (numUprChar === 0) {
            numUpChar = 1;
            numUpChar = numSpChar - 1;
        }

        var spChar = "";
        var spCharStr = " !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";
        while (spChar.length < numSpChar) {
            spChar += spCharStr[Math.floor(Math.random() * spCharStr.length)];
        }
        console.log('spChar', spChar);

        var numChar = "";
        var numCharStr = "0123456789";
        while (numChar.length < numNumChar) {
            numChar += numCharStr[Math.floor(Math.random() * numCharStr.length)];
        }
        console.log('numChar', numChar);

        var lwrChar = "";
        var lwrCharStr = "abcdefghijklmnopqrstuvwxyz";
        while (lwrChar.length < numLwrChar) {
            lwrChar += lwrCharStr[Math.floor(Math.random() * lwrCharStr.length)];
        }
        console.log('lwrChar', lwrChar);

        var uprChar = "";
        var uprCharStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        while (uprChar.length < numUprChar) {
            uprChar += uprCharStr[Math.floor(Math.random() * uprCharStr.length)];
        }
        console.log('uprChar', uprChar);
    </script>
</body>

</html>